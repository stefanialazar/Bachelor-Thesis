<div class="page">
    <ng-container *ngIf="series">
        <div class="container">
          <img class="image" [attr.src]="(series.seriesImageUrl)">
          <div class="text">
            <h2>{{series.seriesTitle}}</h2>
            <p>Release year: {{series.yearReleased}}<br>IMDB rating: {{series.imdbRating}}<br>Series genre: {{series.genre}}</p>
            <h4>{{series.description}}</h4>
            <p>Streaming Platforms: <br> {{series.streamingPlatform}}</p>
          </div>
        </div> 
    </ng-container>
</div>

<div class="page">

    <div class="container2">
        <select name="menu" id="meun-items" (change)="selectSeason($event)">
            <option disabled selected>Select Season</option>
            <option class="item" *ngFor="let ss of seriesSeasonsList">Season {{ss.airedSeason}}</option>
        </select>
    </div>
</div>

<div class="page">
    <ng-container *ngIf="LoggedIn">
        <div *ngFor="let ss of seriesSeasonsList;">
            <div class="episodes" id="{{ 'season' + ss.airedSeason}}" style="display: none;" >
                <app-buttons [buttonText]="'Episode ' + (i+1)" 
                [buttonBkg]="(ss.airedSeason < currentUserProgress?.currentSeason || (ss.airedSeason == currentUserProgress?.currentSeason && (i+1) <= currentUserProgress?.currentEpisode)) ? 'watched' : ''"  
                *ngFor="let item of [].constructor(ss.airedEpisodes); let i = index" 
                [routerLink]="['/series', ss.seriesId, 'season' + currentSeason + 'episode' + ((i+1) | number)]"></app-buttons>
            </div>  
        </div>
    </ng-container>
    <ng-container *ngIf="!LoggedIn">
        <div *ngFor="let ss of seriesSeasonsList;">
            <div class="episodes" id="{{ 'season' + ss.airedSeason}}" style="display: none;" >
                <app-buttons [buttonText]="'Episode ' + (i+1)" 
                *ngFor="let item of [].constructor(ss.airedEpisodes); let i = index" 
                [routerLink]="['/series', ss.seriesId, 'season' + currentSeason + 'episode' + ((i+1) | number)]"></app-buttons>
            </div>  
        </div>
    </ng-container>
   
</div>





